# CSSベストプラクティス 2025 (vimapp プロジェクト)

このドキュメントは、`vimapp`プロジェクトにおけるCSSのコーディング規約とベストプラクティスを定義します。
一貫性、メンテナンス性、パフォーマンスを高く保つことを目的とします。

## 1. 基本方針：Chakra UI を最大限に活用する

当プロジェクトでは、UIの構築に **Chakra UI** を全面的に採用します。
CSSの記述は、原則としてChakra UIが提供する**スタイルProps**を通じて行います。

**[OK] 正しい例:**
```jsx
<Box bg="teal.500" p={4} color="white">
  Hello World
</Box>
```

**[NG] 避けるべき例:**
```jsx
// globals.css や style属性での直接指定は避ける
<div style={{ backgroundColor: '#38B2AC', padding: '16px', color: 'white' }}>
  Hello World
</div>
```

**理由:**
- Chakra UIのデザインシステム（カラースキーム、スペーシング、タイポグラフィ）に準拠することで、デザインの一貫性が自動的に保たれます。
- レスポンシブ対応やダークモード対応が容易になります。
- コードの可読性が向上します。

## 2. レスポンシブデザイン

レスポンシブデザインは、Chakra UIの**配列（Array）またはオブジェクト（Object）構文**を使用して実装します。

- **配列構文:** `[mobile, tablet, desktop]` の順で値を指定します。
- **オブジェクト構文:** `{{ base: '...', md: '...', lg: '...' }}` のように、ブレークポイントを明示的に指定します。

**[OK] 正しい例:**
```jsx
// 画面幅が広がるにつれて、paddingが大きくなる
<Box p={{ base: 2, md: 4, lg: 8 }}>
  Responsive Padding
</Box>

// 画面幅が狭い時は縦並び、広い時は横並び
<Flex direction={{ base: "column", lg: "row" }}>
  ...
</Flex>
```

## 3. スタイルの優先順位

1.  **Chakra UI スタイルProps:** (例: `bg`, `p`, `m`, `color`) を最優先で使用します。
2.  **`sx` Prop:** Chakra UIのPropsで表現できない複雑なスタイル（例: 一部のセレクタやCSS変数利用）が必要な場合のみ、`sx` Propを使用します。
3.  **`globals.css`:** アプリケーション全体で共通の、ごく基本的なスタイル（例: `body`のフォントファミリー、基本的なリセットCSS）のみを記述します。コンポーネント固有のスタイルは**絶対に**記述しません。
4.  **Tailwind CSS クラス:** `className` 属性でのTailwind CSSの直接利用は、Chakra UIのシステムと競合する可能性があるため、原則として**禁止**します。

## 4. テーマとデザイントークン

- **色:** カラーパレットはChakra UIのデフォルトテーマ、または将来的に拡張するカスタムテーマで管理します。`red.500` や `gray.800` のように、テーマで定義された名前で色を指定し、HEXコード (`#FF0000`) のハードコーディングは避けてください。
- **スペーシング:** `p={4}` や `gap={6}` のように、テーマで定義されたスペーシングスケールを使用します。`p="15px"` のようなマジックナンバーは避けてください。
- **フォントサイズ:** `fontSize="lg"` のように、テーマで定義されたタイポグラフィスケールを使用します。

## 5. コンポーネントの責務

- スタイルは、そのスタイルが適用されるコンポーネント内で完結させます。
- 親コンポーネントが子コンポーネントの内部スタイルを上書きするような実装は、予期せぬ競合の原因となるため避けてください。

---
**このガイドラインは、今後のすべてのUI実装とレビューの基準となります。**

---

## 6. 使用を避けるべき技術

### 6.1. インラインスタイル (`style={...}`)

`style`属性によるインラインスタイルの使用は、動的に計算された値（例: `transform: translateX(${value}px)`) を適用するなど、やむを得ない場合を除き**原則禁止**とします。

**理由:** Chakra UIのテーマ（デザイントークン、レスポンシブ対応、疑似セレクタ）が適用できず、デザインの一貫性を損なうためです。常にChakra UIのスタイルPropsを優先してください。

### 6.2. BEM (Block Element Modifier)

BEMは、CSSクラスの命名規則であり、当プロジェクトのスタイリングアプローチとは異なるため**使用しません**。

**理由:** Chakra UIはコンポーネント単位でスタイルを管理するCSS-in-JSのアプローチです。BEMが解決しようとするグローバルなCSSクラス名の衝突や管理の問題は、このアプローチでは発生しません。私たちはCSSクラス名ではなく、ReactコンポーネントのPropsによってスタイルを記述します。
